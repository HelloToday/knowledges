Redis DataBase(简称RDB)

    执行机制：快照，直接将databases中的key-value的二进制形式存储在了rdb文件中
    优点：性能较高（因为是快照，且执行频率比aof低，
    而且rdb文件中直接存储的是key-values的二进制形式，对于恢复数据也快）
    
    使用单独子进程来进行持久化，主进程不会进行任何IO操作，保证了redis的高性能
    
    缺点：在save配置条件之间若发生宕机，此间的数据会丢失
    RDB是间隔一段时间进行持久化，如果持久化之间redis发生故障，
    会发生数据丢失。所以这种方式更适合数据要求不严谨的时候

Append-only file (简称AOF)

    执行机制：将对数据的每一条修改命令追加到aof文件
    优点：数据不容易丢失
    可以保持更高的数据完整性，如果设置追加file的时间是1s，如果redis发生故障，
    最多会丢失1s的数据；且如果日志写入不完整支持redis-check-aof来进行日志修复；
    AOF文件没被rewrite之前（文件过大时会对命令进行合并重写），
    可以删除其中的某些命令（比如误操作的flushall）
    
    缺点：性能较低（每一条修改操作都要追加到aof文件，执行频率较RDB要高，
    而且aof文件中存储的是命令，对于恢复数据来讲需要逐行执行命令，所以恢复慢）
    AOF文件比RDB文件大，且恢复速度慢。
    
    
###注意总结

AOF和RDB各有优缺点，这是有它们各自的特点所决定：
* 1)  AOF更加安全，可以将数据更加及时的同步到文件中，但是AOF需要较多的磁盘IO开支，
    AOF文件尺寸较大，文件内容恢复数度相对较慢。

* 2) snapshot，安全性较差，它是“正常时期”数据备份以及master-slave数据同步的最佳手段，
     文件尺寸较小，恢复数度较快

* 3) 如果既配置了RDB，又配置了AOF，则在进行数据持久化的时候，都会进行，
但是在根据文件恢复数据的时候，以AOF文件为准，RDB文件作废

* 4)需要注意：数据的恢复是阻塞操作（此间所到来的任何客户端读写请求都失效）
    bgsave和bgrewriteaof（后台aof重写）这两个命令不可以同时发生
        如果bgsave在执行，此间到来的bgrewriteaof在bgsave执行之后，再执行
        如果bgrewriteaof在执行，此间到来的bgsave丢弃
    



https://blog.csdn.net/xiaozhu0301/article/details/79021436