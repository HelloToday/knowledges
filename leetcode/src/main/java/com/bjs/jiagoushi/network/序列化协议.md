###序列化概述

文章来自于：https://blog.csdn.net/sanyaoxu_2/article/details/79722431

####序列化定义

* 序列化（serialization）就是将对象序列化为二进制形式（字节数组），
一般也将序列化称为编码（Encode），主要用于网络传输、数据持久化等；
* 反序列化（deserialization）则是将从网络、磁盘等读取的字节数组还原成原始对象，
以便后续业务的进行，一般也将反序列化称为解码（Decode），
主要用于网络传输对象的解码，以便完成远程调用。

### java里面的序列化

### 1. java自带的序列化协议

需要序列化的Java对象只需要实现 Serializable / Externalizable
接口并生成序列化ID，这个类就能够通过 ObjectInput 和 ObjectOutput 
序列化和反序列化

java自带的序列化协议有哪些问题呢？

1. 无法跨语言
2. 序列化后的码流太大：相对于目前主流的序列化协议，Java序列化后的码流太大
3. 序列化的性能差：由于Java序列化采用同步阻塞IO，相对于目前主流的序列化协议，它的效率非常差


####2. XML
* 优点

1. 人机可读性好
2. 可指定元素或特性的名称

缺点：

1. 序列化数据只包含数据本身以及类的结构，不包括类型标识和程序集信息。
2. 类必须有一个将由 XmlSerializer 序列化的默认构造函数。
3. 只能序列化公共属性和字段
4. 不能序列化方法
5. 文件庞大，文件格式复杂，传输占带宽

使用场景

1. 当做配置文件存储数据
2. 实时数据转换


#### 3.JSON

优点：

1. 前后兼容性高
2. 数据格式比较简单，易于读写
3. 序列化后数据较小，可扩展性好，兼容性好
4. 与XML相比，其协议比较简单，解析速度比较快

缺点：
1. 数据的描述性比XML差
2. 不适合性能要求为ms级别的情况
3. 额外空间开销比较大

#### 4.Fastjson

Fastjson是一个Java语言编写的高性能功能完善的JSON库。
它采用一种“假定有序快速匹配”的算法，把JSON Parse的性能提升到极致。

优点:
* 接口简单易用

* 目前java语言中最快的json库

 缺点:
* 过于注重快，而偏离了“标准”及功能性
* 代码质量不高，文档不全

适用场景
* 协议交互
* Web输出
* Android客户端

####Protobuf

它将数据结构以.proto文件进行描述，
通过代码生成工具可以生成对应数据结构的POJO对象和Protobuf相关的方法和属性。

优点：
* 序列化后码流小，性能高
* 结构化数据存储格式（XML JSON等）
* 通过标识字段的顺序，可以实现协议的前向兼容
* 结构化的文档更容易管理和维护

缺点：
* 需要依赖于工具生成代码

* 支持的语言相对较少，官方只支持Java 、C++ 、Python


####其他
Hessian 采用二进制协议的轻量级remoting onhttp工具

kryo 基于protobuf协议，只支持java语言,需要注册（Registration），然后序列化（Output），反序列化（Input）

### 根本问题：影响序列化的性能关键因素：
1. 序列化后的码流的大小（网络带宽的占用）
2. 序列化的性能（CPU的资源占用）
3. 是否支持跨语言（异构系统的对接和开发语言的切换）


 
