### mysql的性能调优通过以下几个层面来调优：

#### 1. 架构层面

* 做主从复制（热备）
* 实现读写分离（分离读写操作的锁的粒度）
* 分库分表 

#### 2. 系统层面

这里的系统指的是操操作系统

1. 增加内存。
2. 硬盘使用固态硬盘 SSD。
3. 给磁盘做 raid0 或者 raid5 以增加磁盘的读写速度。
4. 可以重新挂载磁盘，并加上 noatime 参数，这样可以减少磁盘的 I/O。

#### 3. mysql本身的优化

1. 如果未配置主从同步，可以把 bin-log 功能关闭，减少磁盘 I/O。
2. 在 my.cnf 中加上 skip-name-resolve ，这样可以避免由于解析主机名延迟造成 M有SQL 执行慢。
3. 调整几个关键的 buffer 和 cache。调整的依据，主要根据数据库的状态来调试。如何调优可以参考五。
4. 根据具体的使用场景，选择合适的存储引擎。

#### 4. 应用层次

查看慢查询日志，根据慢查询日志优化程序中的 SQL 语句，比如增加索引

#### 5. 调整关键的buffer和 cache 


------

1. 查询缓存在如下条件下会失效：
where 条件里面有了函数 比如rand() now()等
2. explain 查看select语句
3. 在Join表的时候使用相当类型的例，并将其索引 
如果你的应用程序有很多 JOIN 查询，
你应该确认两个表中Join的字段是被建过索引的。
这样，MySQL内部会启动为你优化Join的SQL语句的机制。 
而且，这些被用来Join的字段，应该是相同的类型的。
例如：如果你要把 DECIMAL 字段和一个 INT 字段Join在一起，MySQL就无法使用它们的索引。对于那些STRING类型，还需要有相同的字符集才行。（两个表的字符集有可能不一样)

